{"version":3,"file":"2-snackbar.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst button = document.querySelector('button');\nconst form = document.querySelector('form');\nconst fieldset = document.querySelector('fieldset');\nconst delay = document.querySelector('input[type=number]');\n\nlet promiseType;\nlet radioTarget;\nlet parsedDelay;\n\nsetButtonState();\n\nfunction setButtonState() {\n  if (parsedDelay && promiseType) {\n    button.removeAttribute('disabled');\n  } else {\n    button.setAttribute('disabled', 'disabled');\n  }\n}\n\ndelay.addEventListener('input', e => {\n  parsedDelay = +e.target.value;\n  setButtonState();\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  try {\n    if (parsedDelay > 0) {\n      button.setAttribute('disabled', 'disabled');\n      radioTarget.checked = false;\n      delay.value = '';\n      const promise = new Promise((resolve, reject) => {\n        setTimeout(() => {\n          if (promiseType === 'fulfilled') {\n            resolve('fulfilled');\n          } else {\n            reject('rejected');\n          }\n        }, parsedDelay);\n      });\n      promise\n        .then(\n          () =>\n            iziToast.show({\n              message: `Fulfilled promise in ${parsedDelay}ms`,\n              color: 'green',\n              position: 'topCenter',\n            }),\n          () =>\n            iziToast.show({\n              message: `Rejected promise in ${parsedDelay}ms`,\n              color: 'red',\n              position: 'topCenter',\n            })\n        )\n        .finally(() => {\n          promiseType = null;\n          parsedDelay = 0;\n        });\n    }\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nfieldset.addEventListener('input', e => {\n  radioTarget = e.target;\n  promiseType = radioTarget.value;\n  if (parsedDelay > 0) {\n    button.removeAttribute('disabled');\n  }\n});\n"],"names":["button","form","fieldset","delay","promiseType","radioTarget","parsedDelay","setButtonState","e","resolve","reject","iziToast","error"],"mappings":"oGAGA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAQ,SAAS,cAAc,oBAAoB,EAEzD,IAAIC,EACAC,EACAC,EAEJC,IAEA,SAASA,GAAiB,CACpBD,GAAeF,EACjBJ,EAAO,gBAAgB,UAAU,EAEjCA,EAAO,aAAa,WAAY,UAAU,CAE9C,CAEAG,EAAM,iBAAiB,QAASK,GAAK,CACnCF,EAAc,CAACE,EAAE,OAAO,MACxBD,GACF,CAAC,EAEDN,EAAK,iBAAiB,SAAUO,GAAK,CACnCA,EAAE,eAAc,EAEhB,GAAI,CACEF,EAAc,IAChBN,EAAO,aAAa,WAAY,UAAU,EAC1CK,EAAY,QAAU,GACtBF,EAAM,MAAQ,GACE,IAAI,QAAQ,CAACM,EAASC,IAAW,CAC/C,WAAW,IAAM,CACXN,IAAgB,YAClBK,EAAQ,WAAW,EAEnBC,EAAO,UAAU,CAEpB,EAAEJ,CAAW,CACtB,CAAO,EAEE,KACC,IACEK,EAAS,KAAK,CACZ,QAAS,wBAAwBL,CAAW,KAC5C,MAAO,QACP,SAAU,WACxB,CAAa,EACH,IACEK,EAAS,KAAK,CACZ,QAAS,uBAAuBL,CAAW,KAC3C,MAAO,MACP,SAAU,WACxB,CAAa,CACJ,EACA,QAAQ,IAAM,CACbF,EAAc,KACdE,EAAc,CACxB,CAAS,EAEN,OAAQM,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAAC,EAEDV,EAAS,iBAAiB,QAASM,GAAK,CACtCH,EAAcG,EAAE,OAChBJ,EAAcC,EAAY,MACtBC,EAAc,GAChBN,EAAO,gBAAgB,UAAU,CAErC,CAAC"}